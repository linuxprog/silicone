<section class="container mb-5 pb-3 py-lg-4 py-xl-5">
  <div class="row gy-4 gy-md-5 pt-3 py-md-4">
    <div class="col-xl-2 col-lg-3 text-lg-start text-center">
      <h2 class="mb-4 mb-xl-5 pb-2 pb-md-3 pb-lg-4">
        What Our Clients Say About Us:
      </h2>
      <button
        type="button"
        id="prev"
        class="btn btn-prev btn-icon btn-sm me-2"
        aria-label="Previous"
      >
        <i class="bx bx-chevron-left"></i>
      </button>
      <button
        type="button"
        id="next"
        class="btn btn-next btn-icon btn-sm ms-2"
        aria-label="Next"
      >
        <i class="bx bx-chevron-right"></i>
      </button>
    </div>
    <div class="col-lg-9 offset-xl-1">
      <div class="swiper">
        <swiper-container
          class="swiper-wrapper"
          [config]="swiperConfig"
          init="false"
        >
          @for (item of testimonialData; track $index) {
            <swiper-slide class="swiper-slide h-auto p-2 pb-4">
              <figure class="d-flex flex-column h-100 mt-4">
                <div
                  class="card h-100 position-relative border-0 shadow-sm pt-4"
                >
                  <span
                    class="btn btn-icon btn-primary shadow-primary pe-none position-absolute top-0 start-0 translate-middle-y ms-4"
                  >
                    <i class="bx bxs-quote-left"></i>
                  </span>
                  <blockquote class="card-body pb-3 mb-0">
                    <p class="mb-0">{{ item.comment }}</p>
                  </blockquote>
                  <div class="card-footer border-0 text-nowrap pt-0">
                    <ng-template #t let-fill="fill">
                      @if (fill > 0) {
                        <i
                          class="bx bxs-star text-warning me-1"
                          [style.width.%]="fill"
                        ></i>
                      } @else {
                        <i class="bx bx-star text-muted opacity-75 me-1"> </i>
                      }
                    </ng-template>

                    <ngb-rating
                      [(rate)]="item.rating"
                      [starTemplate]="t"
                      [readonly]="true"
                      [max]="5"
                    />
                  </div>
                </div>
                <figcaption class="d-flex align-testimonialData-center pt-4">
                  <img
                    [src]="item.user.image"
                    width="48"
                    class="rounded-circle"
                    alt="Annette Black"
                  />
                  <div class="ps-3">
                    <h6 class="fs-sm fw-semibold mb-0">{{ item.user.name }}</h6>
                    <span class="fs-xs text-muted">{{
                      item.user.position
                    }}</span>
                  </div>
                </figcaption>
              </figure>
            </swiper-slide>
          }
        </swiper-container>
      </div>
    </div>
  </div>
</section>
